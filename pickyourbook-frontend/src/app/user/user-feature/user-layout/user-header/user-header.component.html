<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

<nav class="w-full bg-blue-500 text-white px-6 py-2 flex items-center justify-between shadow">
  <div class=" w-full flex justify-between items-center ">

    <!-- Left - Logo -->
    <div class="flex items-center space-x-3">
      <img src="/logo.png" alt="Logo" class="h-10 w-10 object-contain">
      <span class="text-xl font-semibold">Pick Your Book</span>
    </div>

    <!-- Center - Nav Links-->
    <div class="flex items-center space-x-6">
      <a routerLink="/user-feature/home" class="hover:text-gray-300 cursor-pointer">Home</a>
      <a routerLink="/user-feature/all-books" class="hover:text-gray-300 cursor-pointer">All Books</a>
      <a routerLink="/user-feature/sell-here" class="hover:text-gray-300 cursor-pointer">Sell Here</a>
    </div>

    <!-- Right - Notification & Profile (Responsive) -->
    <div class="flex items-center justify-evenly space-x-10">
      <!-- Search -->
      <div class="relative h-10">
        <!-- Search Button -->
        <button (click)="toggleSearch()"
          class="text-gray-300 hover:text-white cursor-pointer focus:outline-none absolute right-0 top-1/2 transform -translate-y-1/2 z-20"
          aria-label="Search">
          <i class="fas fa-search text-lg sm:text-xl md:text-xl"></i>
        </button>

        <!-- Search Input (Expands leftward) -->
        <div class="absolute top-1/2 right-0 transform -translate-y-1/2 transition-all duration-300 ease-in-out z-10"
          [ngClass]="isSearchOpen ? 'w-36 sm:w-48 md:w-64 opacity-100' : 'w-0 opacity-0'">
          <form [formGroup]="bookSearchForm" (ngSubmit)="onSubmit()">
            <input #searchInput type="text" formControlName="search" placeholder="Search..."
              class="w-full bg-blue-700 text-white rounded-full pl-4 pr-10 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
          </form>
        </div>
      </div>



      <!-- Messages -->
      <div class="relative z-30">
        <button (click)="goToMessages()"
          class="relative focus:outline-none cursor-pointer hover:text-blue-200 transition-colors duration-200"
          aria-label="Messages">
          <i class="fas fa-comment-dots text-lg cursor-pointer  sm:text-xl md:text-2xl"></i>
          <!-- Notification badge -->
          <!-- <span
            class="absolute -top-1 -right-2 bg-red-600 text-white text-xs rounded-full px-1.5 py-0.5 shadow flex items-center justify-center"
            style="min-width: 18px; height: 18px; font-size: 0.75rem;">
          </span> -->
        </button>
      </div>

      <!-- Profile Dropdown -->
      <div class="relative">
        <button (click)="toggleDropdown()" class="flex items-center cursor-pointer focus:outline-none"
          aria-label="User Menu">
          <i class="fas fa-user text-lg sm:text-xl md:text-2xl"></i>
        </button>

        <!-- Dropdown Menu -->
        <div *ngIf="isDropdownOpen"
          class="absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg py-2 z-50 text-gray-700">
          <a href="#" class="block px-4 py-2 hover:bg-gray-100">Profile</a>
          <a href="#" class="block px-4 py-2 hover:bg-gray-100">Settings</a>
          <a href="#" class="block px-4 py-2 hover:bg-gray-100">Logout</a>
        </div>
      </div>
    </div>
  </div>
</nav>